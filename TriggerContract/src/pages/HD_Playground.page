<apex:page id="HD_Playground" standardController="Doctor__c" extensions="HD_PlygroundController">

    <apex:includeScript value="{!$Resource.jQuery}"/>
    <apex:includeScript value="{!$Resource.jQueryUI}"/>
    <apex:stylesheet value="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>


        <apex:outputPanel rendered="true" id="mainPanel">
            <apex:form>
            <apex:commandButton id="opener" onClick="showModal();" reRender="mainPanel"
                                value="Open"></apex:commandButton>
            </apex:form>
        </apex:outputPanel>
            <div id="dialogBox" title="{!$Label.Hire_Label} DOCTORNAMEHERE {!$Label.TO_Label}" style="display:none;">
                <apex:pageBlock id="searchBlock">
                    <apex:pageMessages></apex:pageMessages>
                    <apex:form>
                    <apex:actionRegion>
                    <apex:pageBlockSection columns="2" title="{!$Label.Search_For_Hospitals_Label}" collapsible="false">
                        <apex:inputField value="{!inputFormHospital.Name}" required="true"/>
                        <apex:inputField value="{!inputFormHospital.Country__c}"/>
                        <apex:inputText value="{!inputFormHospital.Email__c}" label="{!$Label.Email_Label}"/>
                    </apex:pageBlockSection>
                    <div align="center">

                            <apex:commandButton action="{!searchHospital}"
                                                value="{!$Label.Search_Button}" status="loadingGif"
                                                reRender="resultBlock,searchBlock"/>
                            <apex:commandButton action="{!clear}" value="{!$Label.Clear_Button}" status="loadingGif"
                                                onClick="this.form.reset();" immediate="true"
                                                reRender="searchBlock,resultBlock,mainPanel" id="clearButton"/>

                    </div>
                        </apex:actionRegion>
                        <apex:actionRegion>
                    <apex:pageBlockSection title="{!$Label.Results_Label}" id="resultBlock" columns="1">
                        <apex:pageBlockTable value="{!foundHospitals}" var="hosp">
                            <apex:column headerValue="{!$Label.Action_Label}">
                                <apex:outputLink target="_blank" value="{!URLFOR($Action.Hospital__c.View,hosp.Id)}">
                                    {!$Label.Select_Label}
                                </apex:outputLink>
                            </apex:column>
                            <apex:column headerValue="{!$Label.Hospital_Name_Label}">
                                {! hosp.Name}
                            </apex:column>
                            <apex:column headerValue="{!$Label.Email_Label}">
                                {! hosp.Email__c}
                            </apex:column>
                            <apex:column headerValue="{!$Label.Country_Label}">
                                {! hosp.Country__c}
                            </apex:column>
                        </apex:pageBlockTable>

                    </apex:pageBlockSection>
                    </apex:actionRegion>
                    </apex:form>
                </apex:pageBlock>
            </div>
<!--        </apex:outputPanel>-->
<!--    </apex:form>-->
    <c:loading_component></c:loading_component>

    <script language="JavaScript">
        let $ = jQuery.noConflict();

function showModal(){
    $(function() {
        $("#dialogBox").dialog({
        autoOpen: true,
        height: 600,
        width: 450,
        modal: true,
    });


    });
}

    </script>
</apex:page>
