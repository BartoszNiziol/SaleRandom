<!--
 - Created by BRITENET on 08.04.2021.
 -->

<aura:component description="MP_PersonApperances" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,force:lightningQuickAction" access="global" controller="MP_PersonApperancesController">
    <aura:attribute type="String" name="externalId"/>
    <aura:attribute type="object[]" name="appearancesWrapper"/>
    <aura:handler event="c:MP_SelectPersonEvent" action="{!c.loadApperances}"/>
    <aura:attribute default="false" type="Boolean" name="componentEnabled"/>
    <aura:handler event="c:MP_SearchEvent" action="{!c.hideComponent}"/>
    <aura:registerEvent name="MP_SelectMovieEvent" type="c:MP_SelectMovieEvent"/>

    <aura:if isTrue="{!v.componentEnabled}" >
    <table class="slds-table slds-table--bordered slds-table--cell-buffer">
        <thead>
        <tr class="slds-text-title--caps">
            <th scope="col">
                <div class="slds-truncate" title="Title">Title</div>
            </th>
            <th scope="col">
                <div class="slds-truncate" title="overview">overview</div>
            </th>
            <th scope="col">
                <div class="slds-truncate" title="releaseYear">releaseYear</div>
            </th>
        </tr>
        </thead>
        <tbody>
        <aura:iteration items="{!v.appearancesWrapper }" var="item">
            <tr>
                <th scope="row" >
                    <button type="button" onclick="{!c.sendSelected}" id="{!item.externalId}" >Select</button>
                </th>
                <th scope="row">
                    <div class="slds-truncate" title="{!item.title}">{!item.title}</div>
                </th>
                <th scope="row">
                    <div class="slds-truncate" title="{!item.rating}">{!item.rating}</div>
                </th>
                <th scope="row">
                    <div class="slds-truncate" title="{!item.releaseDate}">{!item.releaseDate}</div>
                </th>
            </tr>
        </aura:iteration>
        </tbody>
    </table>
    </aura:if>
</aura:component>